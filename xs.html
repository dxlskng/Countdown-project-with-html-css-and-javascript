<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./countdownstyle.css">
    <title>Compte à rebours</title>
</head>
<body>
    <div class="info">
        <h2>Choisir une date et une heure de fin </h2>
        <div class="date-and-time-container">
            <div class="time-container">
                <!-- <label for="heure">Heure</label> -->
                <input type="number" name="heure" placeholder="Heure" max="24" id="heure">
                <!-- <label for="minute">Minute</label> -->
                <input type="number" name="minute" placeholder="Minute" max="60" id="minute">
                <!-- <label for="seconde">Secondes</label> -->
                <input type="number" name="seconde" placeholder="Secondes" max="60" id="seconde">
            </div>
            <div class="date-container">
                <!-- <label for="jours">Jours</label> -->
                <input type="number" name="jours" placeholder="jours" max="31" id="jours"> 
                <!-- <label for="mois">Mois</label> -->
                <input type="number" name="mois" placeholder="mois" max="12" id="mois">
                <!-- <label for="annee">Années</label> -->
                <input type="number" name="annee" placeholder="annee" max="60" id="annee" >
            </div> 
        </div>
        <input type="button" value="Lancer" onclick="compte_a_rebours()" id="send">  

    </div>
    <div class="response-container">
        <div class="to_make_commond_style">
            <p id="response"></p>
            <p id="for_display_completion"> COMPTE A REBOURS</p>    
        </div>        
    </div>
    <div id="compte_a_rebours">
        <noscript>Activer Votre javascript</noscript>
    </div>
    <script type="text/javascript">
        var lancer = document.getElementById('send')
        lancer.addEventListener("onclick",compte_a_rebours)
        function compte_a_rebours()
        {
            var heure = document.getElementById('heure').value;
            var minute = document.getElementById('minute').value;
            var seconde = document.getElementById('seconde').value;
            var jours = document.getElementById('jours').value;
            var mois = document.getElementById('mois').value;
            var annee = document.getElementById('annee').value;
            var date_actuelle = new Date();
            var date_evenement = new Date(annee,mois-1,jours,heure,minute,seconde,0);
            var total_secondes = (date_evenement - date_actuelle) /1000;
            if (total_secondes < 0)
                {
                    prefixe = " Terminé :-";
                    total_secondes = Math.abs(total_secondes); // On ne garde que la valeur absolue
                }

            if (total_secondes > 0)
                {
                    var jours = Math.floor(total_secondes / (60 * 60 * 24));
                    var heures = Math.floor((total_secondes - (jours * 60 * 60 * 24)) / (60 * 60));
                    minutes = Math.floor((total_secondes - ((jours * 60 * 60 * 24 + heures * 60 * 60))) / 60);
                    secondes = Math.floor(total_secondes - ((jours * 60 * 60 * 24 + heures * 60 * 60 + minutes * 60)));

                    var et = ":";
                    var etj = ":";
                    var eth = ":";
                    var mot_jour = "jrs ";
                    var mot_heure = "hrs ";
                    var mot_minute = "mns ";
                    var mot_seconde = "secs";


            if (jours == 0)
                {
                    jours = '';
                    mot_jour = '';
                    etj='';
                }
            else if (jours == 1)
                {
                    mot_jour = "jr ";
                }

            if (heures == 0)
                {
                    heures = '';
                    mot_heure = '';
                    eth='';
                }
            else if (heures == 1)
                {
                    mot_heure = "hr ";
                }

            if (minutes == 0)
                {
                    minutes = '';
                    mot_minute = '';
                }
            else if (minutes == 1)
                {
                    mot_minute = "mn ";
                }

            if (secondes == 0)
                {
                    secondes = '';
                    mot_seconde = '';
                    et = '';
                }
            else if (secondes == 1)
                {
                    mot_seconde = "sc";
                }

            if (minutes == 0 && heures == 0 && jours == 0)
                {
                    et = "";
                    eth="";
                    etj="";
                }

           document.getElementById('response').innerHTML=jours + ' ' + etj + heures + ' '+ eth +  minutes + ' ' + et + ' ' + secondes;
           document.getElementById('for_display_completion').innerHTML=mot_jour + ' ' + mot_heure + ' ' + mot_minute + ' ' +mot_seconde;
        }
            else
                {
                    compte_a_rebours.innerHTML = 'Compte à rebours terminé.';

                }

            setTimeout("compte_a_rebours();", 1000);
        }
</script>
</body>
</html>